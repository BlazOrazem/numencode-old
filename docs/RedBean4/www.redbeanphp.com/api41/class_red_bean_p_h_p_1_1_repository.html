<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from www.redbeanphp.com/api41/class_red_bean_p_h_p_1_1_repository.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 23 Apr 2015 07:05:59 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RedBeanPHP: Repository Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="redbeanphp_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RedBeanPHP
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">RedBeanPHP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index-2.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_red_bean_p_h_p_1_1_repository.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Repository Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Repository:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_red_bean_p_h_p_1_1_repository.png" usemap="#Repository_map" alt=""/>
  <map id="Repository_map" name="Repository_map">
<area href="class_red_bean_p_h_p_1_1_repository_1_1_fluid.html" alt="Fluid" shape="rect" coords="0,56,72,80"/>
<area href="class_red_bean_p_h_p_1_1_repository_1_1_frozen.html" alt="Frozen" shape="rect" coords="82,56,154,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afd8643e67eaac28a55a85dd7290ff05b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#afd8643e67eaac28a55a85dd7290ff05b">__construct</a> (<a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b.html">OODB</a> $oodb, <a class="el" href="interface_red_bean_p_h_p_1_1_query_writer.html">QueryWriter</a> $writer)</td></tr>
<tr class="separator:afd8643e67eaac28a55a85dd7290ff05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894e5d9e3bd5a5d5dff9c7937800a54d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a894e5d9e3bd5a5d5dff9c7937800a54d">check</a> (<a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a> $bean)</td></tr>
<tr class="separator:a894e5d9e3bd5a5d5dff9c7937800a54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbffa176b7614fade8045151c8b7cab3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#acbffa176b7614fade8045151c8b7cab3">find</a> ($type, $conditions=array(), $sql=NULL, $bindings=array())</td></tr>
<tr class="separator:acbffa176b7614fade8045151c8b7cab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc84ae5536ea337cc73303e2ff82918"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a0dc84ae5536ea337cc73303e2ff82918">store</a> ($bean)</td></tr>
<tr class="separator:a0dc84ae5536ea337cc73303e2ff82918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b299fd7a109dde80799e5aa7ca921f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a08b299fd7a109dde80799e5aa7ca921f">batch</a> ($type, $ids)</td></tr>
<tr class="separator:a08b299fd7a109dde80799e5aa7ca921f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ddb735fe82c77d1ae55eff7464c462"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#ac6ddb735fe82c77d1ae55eff7464c462">convertToBeans</a> ($type, $rows)</td></tr>
<tr class="separator:ac6ddb735fe82c77d1ae55eff7464c462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab105f5f8f96e7619135ec8e7751c869f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#ab105f5f8f96e7619135ec8e7751c869f">count</a> ($type, $addSQL= '', $bindings=array())</td></tr>
<tr class="separator:ab105f5f8f96e7619135ec8e7751c869f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa244147417e35aad22bd6bccc26574"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a0aa244147417e35aad22bd6bccc26574">trash</a> ($bean)</td></tr>
<tr class="separator:a0aa244147417e35aad22bd6bccc26574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7cdaa744d52a1eb0103e377023ca528"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#ae7cdaa744d52a1eb0103e377023ca528">tableExists</a> ($table)</td></tr>
<tr class="separator:ae7cdaa744d52a1eb0103e377023ca528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e665503af6f98befe38e22a8fa2ae3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a46e665503af6f98befe38e22a8fa2ae3">wipe</a> ($type)</td></tr>
<tr class="separator:a46e665503af6f98befe38e22a8fa2ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad2ad944a1b419d754fdaca60d5fb401b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#ad2ad944a1b419d754fdaca60d5fb401b">processGroups</a> ($originals, $current, $additions, $trashcan, $residue)</td></tr>
<tr class="separator:ad2ad944a1b419d754fdaca60d5fb401b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d4067ca9941f236f8dd0b312772e61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a69d4067ca9941f236f8dd0b312772e61">prepareEmbeddedBean</a> ($embeddedBean)</td></tr>
<tr class="separator:a69d4067ca9941f236f8dd0b312772e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f408f7dbb774a8be7f4769477f12c62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a8f408f7dbb774a8be7f4769477f12c62">processSharedAdditions</a> ($bean, $sharedAdditions)</td></tr>
<tr class="separator:a8f408f7dbb774a8be7f4769477f12c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9239c85cb553fa368fd16b4fbc0848"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a8c9239c85cb553fa368fd16b4fbc0848">processResidue</a> ($ownresidue)</td></tr>
<tr class="separator:a8c9239c85cb553fa368fd16b4fbc0848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bcdad37b51e8ea7938ea9b282c29ada"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a4bcdad37b51e8ea7938ea9b282c29ada">processTrashcan</a> ($bean, $ownTrashcan)</td></tr>
<tr class="separator:a4bcdad37b51e8ea7938ea9b282c29ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8f05c2528aa0a473966e885edd4e4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a8d8f05c2528aa0a473966e885edd4e4c">processSharedTrashcan</a> ($bean, $sharedTrashcan)</td></tr>
<tr class="separator:a8d8f05c2528aa0a473966e885edd4e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95f100210624569126d7a7f444526f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#aa95f100210624569126d7a7f444526f0">processSharedResidue</a> ($bean, $sharedresidue)</td></tr>
<tr class="separator:aa95f100210624569126d7a7f444526f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7394890b912cd1dff047fd992b878c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#afc7394890b912cd1dff047fd992b878c">hasListsOrObjects</a> (<a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a> $bean)</td></tr>
<tr class="separator:afc7394890b912cd1dff047fd992b878c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e094b28d9e32a7e0cf8f20be8c0ebab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a8e094b28d9e32a7e0cf8f20be8c0ebab">processEmbeddedBean</a> (&amp;$embeddedBeans, $bean, $property, <a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a> $value)</td></tr>
<tr class="separator:a8e094b28d9e32a7e0cf8f20be8c0ebab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ade6b3669087d0be873c0464a059ed5f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade6b3669087d0be873c0464a059ed5f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$stash</b> = NULL</td></tr>
<tr class="separator:ade6b3669087d0be873c0464a059ed5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1c55cd90727474457518a67f360315"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a1c55cd90727474457518a67f360315"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$nesting</b> = 0</td></tr>
<tr class="separator:a5a1c55cd90727474457518a67f360315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb5d76609590564ac84c9b31f327199"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedb5d76609590564ac84c9b31f327199"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$writer</b></td></tr>
<tr class="separator:aedb5d76609590564ac84c9b31f327199"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="afd8643e67eaac28a55a85dd7290ff05b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b.html">OODB</a>&#160;</td>
          <td class="paramname"><em>$oodb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_red_bean_p_h_p_1_1_query_writer.html">QueryWriter</a>&#160;</td>
          <td class="paramname"><em>$writer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor, requires a query writer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="interface_red_bean_p_h_p_1_1_query_writer.html">QueryWriter</a></td><td class="paramname">$writer</td><td>writer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad2ad944a1b419d754fdaca60d5fb401b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processGroups </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$originals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$additions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$trashcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$residue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process groups. Internal function. Processes different kind of groups for storage function. Given a list of original beans and a list of current beans, this function calculates which beans remain in the list (residue), which have been deleted (are in the trashcan) and which beans have been added (additions).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$originals</td><td>originals </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$current</td><td>the current beans </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$additions</td><td>beans that have been added </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$trashcan</td><td>beans that have been deleted </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$residue</td><td>beans that have been left untouched</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="a69d4067ca9941f236f8dd0b312772e61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">prepareEmbeddedBean </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$embeddedBean</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Processes an embedded bean.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a>&#160;|&#160;<a class="el" href="class_red_bean_p_h_p_1_1_simple_model.html">SimpleModel</a></td><td class="paramname">$embeddedBean</td><td>the bean or model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer </dd></dl>

</div>
</div>
<a class="anchor" id="a8f408f7dbb774a8be7f4769477f12c62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processSharedAdditions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sharedAdditions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Processes a list of beans from a bean. A bean may contain lists. This method handles shared addition lists; i.e. the $bean-&gt;sharedObject properties.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>the bean </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$sharedAdditions</td><td>list with shared additions</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Security</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c9239c85cb553fa368fd16b4fbc0848"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processResidue </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ownresidue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Processes a list of beans from a bean. A bean may contain lists. This method handles own lists; i.e. the $bean-&gt;ownObject properties. A residue is a bean in an own-list that stays where it is. This method checks if there have been any modification to this bean, in that case the bean is stored once again, otherwise the bean will be left untouched.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>the bean </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$ownresidue</td><td>list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a4bcdad37b51e8ea7938ea9b282c29ada"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processTrashcan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ownTrashcan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Processes a list of beans from a bean. A bean may contain lists. This method handles own lists; i.e. the $bean-&gt;ownObject properties. A trash can bean is a bean in an own-list that has been removed (when checked with the shadow). This method checks if the bean is also in the dependency list. If it is the bean will be removed. If not, the connection between the bean and the owner bean will be broken by setting the ID to NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>the bean </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$ownTrashcan</td><td>list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a8d8f05c2528aa0a473966e885edd4e4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processSharedTrashcan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sharedTrashcan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unassociates the list items in the trashcan.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>bean </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$sharedTrashcan</td><td>list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="aa95f100210624569126d7a7f444526f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processSharedResidue </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sharedresidue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stores all the beans in the residue group.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>bean </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$sharedresidue</td><td>list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="afc7394890b912cd1dff047fd992b878c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">hasListsOrObjects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a>&#160;</td>
          <td class="paramname"><em>$bean</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines whether the bean has 'loaded lists' or 'loaded embedded beans' that need to be processed by the <a class="el" href="class_red_bean_p_h_p_1_1_repository.html#a0dc84ae5536ea337cc73303e2ff82918">store()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>bean to be examined</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a8e094b28d9e32a7e0cf8f20be8c0ebab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processEmbeddedBean </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$embeddedBeans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a>&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts an embedded bean to an ID, removed the bean property and stores the bean in the embedded beans array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$embeddedBeans</td><td>destination array for embedded bean </td></tr>
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>target bean </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$property</td><td>property that contains the embedded bean </td></tr>
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$value</td><td>embedded bean itself </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a894e5d9e3bd5a5d5dff9c7937800a54d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a>&#160;</td>
          <td class="paramname"><em>$bean</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether a <a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a> bean is valid. If the type is not valid or the ID is not valid it will throw an exception: Security.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a></td><td class="paramname">$bean</td><td>the bean that needs to be checked</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Security::$exception</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acbffa176b7614fade8045151c8b7cab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">find </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$conditions</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sql</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bindings</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches the database for a bean that matches conditions $conditions and sql $addSQL and returns an array containing all the beans that have been found.</p>
<p>Conditions need to take form:</p>
<p>array( 'PROPERTY' =&gt; array( POSSIBLE VALUES... 'John', 'Steve' ) 'PROPERTY' =&gt; array( POSSIBLE VALUES... ) );</p>
<p>All conditions are glued together using the AND-operator, while all value lists are glued using IN-operators thus acting as OR-conditions.</p>
<p>Note that you can use property names; the columns will be extracted using the appropriate bean formatter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>type of beans you are looking for </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>list of conditions </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$addSQL</td><td>SQL to be used in query </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$bindings</td><td>whether you prefer to use a WHERE clause or not (TRUE = not)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQL</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0dc84ae5536ea337cc73303e2ff82918"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">store </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores a bean in the database. This method takes a <a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a> Bean Object $bean and stores it in the database. If the database schema is not compatible with this bean and RedBean runs in fluid mode the schema will be altered to store the bean correctly. If the database schema is not compatible with this bean and RedBean runs in frozen mode it will throw an exception. This function returns the primary key ID of the inserted bean.</p>
<p>The return value is an integer if possible. If it is not possible to represent the value as an integer a string will be returned. We use explicit casts instead of functions to preserve performance (0.13 vs 0.28 for 10000 iterations on Core i3).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a>&#160;|&#160;<a class="el" href="class_red_bean_p_h_p_1_1_simple_model.html">SimpleModel</a></td><td class="paramname">$bean</td><td>bean to store</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer|string</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Security</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a08b299fd7a109dde80799e5aa7ca921f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of beans. Pass a type and a series of ids and this method will bring you the corresponding beans.</p>
<p>important note: Because this method loads beans using the load() function (but faster) it will return empty beans with ID 0 for every bean that could not be located. The resulting beans will have the passed IDs as their keys.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>type of beans </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$ids</td><td>ids to load</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="ac6ddb735fe82c77d1ae55eff7464c462"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">convertToBeans </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a convenience method; it converts database rows (arrays) into beans. Given a type and a set of rows this method will return an array of beans of the specified type loaded with the data fields provided by the result set from the database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>type of beans you would like to have </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$rows</td><td>rows from the database result</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="ab105f5f8f96e7619135ec8e7751c869f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$addSQL</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bindings</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Counts the number of beans of type $type. This method accepts a second argument to modify the count-query. A third argument can be used to provide bindings for the SQL snippet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>type of bean we are looking for </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$addSQL</td><td>additional SQL snippet </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$bindings</td><td>parameters to bind to SQL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQL</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0aa244147417e35aad22bd6bccc26574"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trash </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bean</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a bean from the database. This function will remove the specified <a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a> Bean Object from the database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_red_bean_p_h_p_1_1_o_o_d_b_bean.html">OODBBean</a>&#160;|&#160;<a class="el" href="class_red_bean_p_h_p_1_1_simple_model.html">SimpleModel</a></td><td class="paramname">$bean</td><td>bean you want to remove from database</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Security</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae7cdaa744d52a1eb0103e377023ca528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tableExists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether the specified table already exists in the database. Not part of the Object Database interface!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>table name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a46e665503af6f98befe38e22a8fa2ae3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wipe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trash all beans of a given type. Wipes an entire type of bean.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>type of bean you wish to delete all instances of</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQL</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>RedBeanPHP</b></li><li class="navelem"><a class="el" href="class_red_bean_p_h_p_1_1_repository.html">Repository</a></li>
    <li class="footer">Generated on Mon Oct 20 2014 20:10:53 for RedBeanPHP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>

<!-- Mirrored from www.redbeanphp.com/api41/class_red_bean_p_h_p_1_1_repository.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 23 Apr 2015 07:05:59 GMT -->
</html>
